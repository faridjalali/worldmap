<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>World Map</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="color-scheme" content="dark only">
    <link rel="icon" href="/worldmap/assets/world_icon-BPhMPs8i.png" type="image/png">
    <link rel="apple-touch-icon" href="/worldmap/assets/world_icon-BPhMPs8i.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>
      body {
        margin: 0;
        /* background: #050505; Removed to use styles.css --bg-deep */
        color: #fff;
        font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      }
      #continent-map {
        min-height: 360px;
      }
    </style>
    <script type="module" crossorigin src="/worldmap/assets/main-Dv-vVAHb.js"></script>
    <link rel="modulepreload" crossorigin href="/worldmap/assets/quiz-Did3f5KT.js">
    <link rel="stylesheet" crossorigin href="/worldmap/assets/quiz-C1ZsKGtN.css">
  </head>
  <body class="landing">
    <div id="view-landing">
      <main class="landing-shell">
        <div class="landing-header">
          <h1 class="landing-title">World Map Quiz</h1>
        </div>

        <a class="world-btn top-right" href="#" id="btn-world-start">Entire World</a>

        <div id="continent-map" class="map-stage"></div>
        <div id="continent-tooltip" class="map-tooltip"></div>
      </main>
    </div>

    <!-- Quiz View (Hidden by default) -->
    <div id="view-quiz" class="hidden">
       <div id="city-tooltip"></div>
       <div id="map-stage"></div>

       <div id="ui-layer">
        <div id="top-bar">
          <button id="btn-quiz-back" class="back-btn" aria-label="Back to Menu">
            <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
          </button>
          <div id="top-hud">
          <div class="hud-group">
            <span class="hud-item">Target</span>
            <span id="target-state" class="hud-val">--</span>
          </div>
          <div class="hud-group">
            <span class="hud-item">Score</span>
            <span id="score-val" class="hud-val">0</span>
          </div>
          <div class="hud-group toggle-container active" id="mode-toggle">
            <span class="hud-item" id="mode-label">Capital</span>
            <div class="toggle-switch"><div class="toggle-knob"></div></div>
          </div>
        </div>

        <div id="prompt-container">
          <p id="find-label">Initializing...</p>
          <h1 id="main-prompt">Loading Map Data...</h1>
          <div id="sub-prompt"></div>
        </div>
      </div>

      <div id="fact-overlay">
        <div class="fact-card">
          <div class="fact-status" id="fact-status">Result</div>
          <div class="fact-city" id="fact-city-name">Capital</div>
          <div class="fact-body" id="fact-text">Fact</div>
          <button class="next-btn" id="next-action-btn">Continue</button>
        </div>
      </div>
    </div>

    <script src="https://d3js.org/d3.v7.min.js" defer></script>
    <script src="https://unpkg.com/topojson-client@3" defer></script>
  </body>
</html>
